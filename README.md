# GSCrm
Архитектура моего приложения состоит из трех уровней.

Уровень данных. Содержит таблицы и колонки. Служит понятно только для хранения информации. Никакой обработки там не производится

Бизнес уровень. Здесь по сути происходят все операции и вычисления, сбор информации, которая затем будет отображена пользователю. В нем есть 3 составляющие: Поля, Бизнес компоненты и Бизнес объекты.

1. Поля могут быть двух видов - основанные на колонке или калькулируемые. В случае, если поле основано на колокне, оно просто притягивает данные из нее. В калькулируемых полях есть возможность составлять значения из разных полей.

2. Бизнес компоненты по сути, являются описанием какой-то сущности. Бизнес компоненты могут быть основаны на таблице и при этом притягивать данные из других таблиц. Например, на компоненте "Account" могут потребоваться данные из таблицы "Employers". Для того чтобы это сделать, для бизнес компоненты добавляется Join. В котором указывается, как и из какой таблицы необходимо притягивать данные. Компонента также может юыть не основана ни на одной таблице, в таком случае ее заполнение должно происходить программно

3. Бизнес объект служит для связи сущностей. Эта связь позволяет в пользовательском интерфейсе выводить зависящие друг от друга списки и формы. Например, список сделок и список продуктов сделки. При выборе сделки список продуктов будет автоматически фильтроваться по выбранной сделке. При добавлении нового продукта, он будет прикрепляться к этой сделке. И т.д. Связи настраиваются посредством указания родительской и дочерней сущностей. А также, полей в обеих сущностях, которые должны быть равны друг другу. В этом примере это поля id сделки на сделке и id сделки на продукте сделки .

Уровень пользовательского инфтерфейса.

1. Для вывода поля в интерфейс есть контрол для форм и колонка для списков.

2. Контролы группируются в апплеты, которые отображают информацию по одной сущности и основаны на бизнес компоненте.

3. Представления, которые содержат набор апплетов и основаны на бизнес объекте. Например, объект "Quote", содержащий Сделку и Продукт сделки.

4. Экраны, предназначенные для группировки представлений.

5. Приложения, предназначенные для разделения экранов в зависимости от содержимого.

Теперь где это все лежит в проекте. Для каждой системной сущности, как и для создаваемых далее разработчиком, необходимо три уровня.

Каждый уровень у меня описывается классом. Т.е. для каждой таблицы, бизнес компоненты или апплета, создаваемого в приложении, в дальнейшем будет генерироваться класс.

1. Классы для уровня данных лежат по пути https://github.com/gadjgasan1997/GSCrm/tree/master/GSCrm/Models/Default/TableModels

2. Классы для бизнес уровня лежат по пути https://github.com/gadjgasan1997/GSCrm/tree/master/GSCrm/Models/Default/BusinessComponentModels

3. Классы для уровня данных лежат по пути https://github.com/gadjgasan1997/GSCrm/tree/master/GSCrm/Models/Default/AppletModels

Для связи эти трех уровней есть фабрики классов. Они есть двух видов: для связи уровня данных с бизнес уровнем. И для связи бизнес уровня с уровнем отображения. В них есть методы, по названиям которого понятно, что они делают Они лежат по путям: 

1. https://github.com/gadjgasan1997/GSCrm/tree/master/GSCrm/Factories/Default/DataBUSFactories

2. https://github.com/gadjgasan1997/GSCrm/tree/master/GSCrm/Factories/Default/BUSUIFactories

Контроллеры для обработки запросов делятся на три типа:

1. Контроллеры для работы с апплетами. Они лежат по пути:
https://github.com/gadjgasan1997/GSCrm/tree/master/GSCrm/Controllers/Default/APIControllers/AppletsControllers

2. Контроллеры для работы с представлениями. Они лежат по пути:
https://github.com/gadjgasan1997/GSCrm/tree/master/GSCrm/Controllers/Default/APIControllers/ViewControllers

3. Контроллеры для работы с экранами. Они лежат по пути:
https://github.com/gadjgasan1997/GSCrm/tree/master/GSCrm/Controllers/Default/APIControllers/ScreenControllers

По пути https://github.com/gadjgasan1997/GSCrm/tree/master/GSCrm/Services/Info хранятся классы для работы с инфомрацией об апплетах, представлениях и экранах

Ну по сути все основное я описал, кроме фронта. Он находится по пути https://github.com/gadjgasan1997/GSCrm/tree/master/GSCrm/wwwroot.
